<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"  class="no-js" lang="zxx">
<!-- include/layout.html-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<th:block th:replace="~{/include/layout :: setContent( ~{:: #wrap}  ) }">
    <section id="wrap">
    </section>
</th:block>
<div class="mobile-menu-overlay"></div>

<div class="main-container" >
    <div class="pd-ltr-20 xs-pd-20-10">
        <div class="min-height-200px">
            <div class="page-header">
                <div class="row">
                    <div class="col-md-6 col-sm-12">
                        <div class="title">
                            <h4>신입 사원 조회</h4>
                        </div>
                        <nav aria-label="breadcrumb" role="navigation">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item">
                                    <a>인사 관리</a>
                                </li>
                                <li class="breadcrumb-item active" aria-current="page">
                                    전체 목록
                                </li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
            <div class="pd-20 card-box mb-30" >
                <h4 class="h4 text-blue mb-10" > 신입 사원 목록 </h4>
                <!--                <div class="row">-->
                <!--                    <div class="col-sm-12 col-md-6" style="display: flex;justify-content:flex-start;align-items: baseline" >-->
                <!--                        Search:-->
                <!--                        <p style="margin-left: 20px"><input type="search" class="form-control form-control-sm" placeholder="Search" aria-controls="DataTables_Table_0"></p>-->
                <!--                        <i class="dw dw-search2 search-icon" style="margin-right: 10px;margin-left: 10px"></i>-->
                <!--                    </div>-->
                <!--                    <div class="col-sm-12 col-md-6">-->
                <!--                        <div id="DataTables_Table_0_filter" class="dataTables_filter">-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--                    <div class="dt-buttons btn-group flex-wrap" style="text-align: right">-->
                <!--                        <button class="btn btn-secondary buttons-copy buttons-html5" tabindex="0" aria-controls="DataTables_Table_2" type="button">-->
                <!--                            <span>Copy</span>-->
                <!--                        </button>-->
                <!--                        <button class="btn btn-secondary buttons-csv buttons-html5" tabindex="0" aria-controls="DataTables_Table_2" type="button">-->
                <!--                            <span>CSV</span>-->
                <!--                        </button>-->
                <!--                        <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="DataTables_Table_2" type="button">-->
                <!--                            <span>PDF</span></button>-->
                <!--                        <button class="btn btn-secondary buttons-print" tabindex="0" aria-controls="DataTables_Table_2" type="button">-->
                <!--                            <span>Print</span>-->
                <!--                        </button>-->
                <!--                    </div>-->
                <p>
                <div id="grid" ></div>
                </p>
            </div>
        </div>
    </div>
</div>
<!-- 모달창 -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">신입 사원 정보</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="newId" class="col-form-label">신입 사원 번호</label>
                        <input type="text" class="form-control" id="newId">
                    </div>
                    <div class="mb-3">
                        <label for="newName" class="col-form-label">이름</label>
                        <input type="text" class="form-control" id="newName">
                    </div>
                    <div class="mb-3">
                        <label for="empAddr" class="col-form-label">주소</label>
                        <input type="text" class="form-control" id="empAddr">
                    </div>
                    <div class="mb-3">
                        <label for="newPhone" class="col-form-label">이메일</label>
                        <input type="text" class="form-control" id="newPhone">
                    </div>
                    <div class="mb-3">
                        <label for="newIdNum" class="col-form-label">주민번호</label>
                        <input type="text" class="form-control" id="newIdNum">
                    </div>
                    <div class="mb-3">
                        <label for="newEmail" class="col-form-label">이메일</label>
                        <input type="text" class="form-control" id="newEmail">
                    </div>
                    <div class="mb-3">
                        <label for="newDept" class="col-form-label">지원 직무</label>
                        <input type="text" class="form-control" id="newDept">
                    </div>
                    <div class="mb-3">
                        <label for=" " class="col-form-label">제출 여부</label>
                        <input type="text" class="form-control" id=" ">
                    </div>
                    <div class="mb-3">
                        <label for=" " class="col-form-label">관리</label>
                        <input type="text" class="form-control" id=" ">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary">수정</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
            </div>
        </div>
    </div>
</div>



<!-- buttons for Export datatable -->
<script src="/plugins/datatables/js/dataTables.buttons.min.js"></script>
<script src="/plugins/datatables/js/buttons.print.min.js"></script>
<script src="/plugins/datatables/js/buttons.html5.min.js"></script>
<script src="/plugins/datatables/js/buttons.flash.min.js"></script>
<script src="/plugins/datatables/js/pdfmake.min.js"></script>
<script src="/plugins/datatables/js/vfs_fonts.js"></script>
<!-- welcome modal start -->

<!-- welcome modal end -->
<!-- js --><!--
		<script src="vendors/scripts/core.js"></script>
		<script src="vendors/scripts/script.min.js"></script>
		<script src="vendors/scripts/process.js"></script>
		<script src="vendors/scripts/layout-settings.js"></script>-->
<link rel="stylesheet" href="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.css" />
<script type="text/javascript" src="https://uicdn.toast.com/tui.pagination/v3.4.0/tui-pagination.js"></script>
<link rel="stylesheet" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css" />
<script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>
<script>


</script>


<!--위에 선언하면 html보다 이 script가 더 빨리 로딩 되서 null 값어가 ㅜ항상 아래쪽에 위치해줘야되나봐 ~! -->
<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>

<script>
    //모달창 세팅
    const modalToggle = document.getElementById('exampleModal');
    const myModal = new bootstrap.Modal(document.getElementById('exampleModal'));
    //신규직원 그리드 세팅 하는 변수
    //const newEmpList = []; 1. 변수 선언

    const grid = new tui.Grid({
        el: document.getElementById('grid'),
        data: data, // 3번 newEmpList 변수를 넣어서 그리드 데이터로 그리드 그리기
        bodyHeight: 500,
        columns: [
            {
                header: '신입사원 번호',
                name: 'newId'
            },
            {
                header: '이름',
                name: 'newName'
            },
            {
                header: '전화 번호',
                name: 'newPhone',
                filter: 'select'
            },
            {
                header: '주소',
                name: 'newAddr',
                filter: 'select'
            },
            {
                header: '이메일',
                name: 'newEmail',
                filter: 'select'
            },
            {
                header: '주민 번호',
                name: 'newIdnum',
                filter: 'select'
            },
            {
                header: '지원 직무',
                name: 'newDept',
                filter: 'select'
            },
            {
                header: '제출 여부',
                name: ' ',
                filter: 'select'
            },
            {
                header: '관리',
                name: '',
                filter: ''
            }
        ],
        rowHeaders: ['rowNum'],
        pageOptions: {
            useClient: true,
            perPage: 10
        }
        // ,
        // contextMenu: ({ rowKey, columnName }) => (
        //     [
        //         [
        //             {
        //                 name: 'export',
        //                 label: 'Export',
        //                 subMenu: [
        //                     {
        //                         name: 'default',
        //                         label: 'Default',
        //                         subMenu: [
        //                             {
        //                                 name: 'csvExport',
        //                                 label: 'CSV export',
        //                                 action: () => {
        //                                     grid.export('csv');
        //                                 }
        //                             },
        //                             {
        //                                 name: 'excelExport',
        //                                 label: 'Excel export',
        //                                 action: () => {
        //                                     grid.export('xlsx');
        //                                 }
        //                             },
        //                         ]
        //                     },
        //                     {
        //                         name: 'includeHeader',
        //                         label: 'includeHeader: false',
        //                         subMenu: [
        //                             {
        //                                 name: 'csvExport',
        //                                 label: 'CSV export',
        //                                 action: () => {
        //                                     grid.export('csv', { includeHeader: false });
        //                                 }
        //                             },
        //                             {
        //                                 name: 'excelExport',
        //                                 label: 'Excel export',
        //                                 action: () => {
        //                                     grid.export('xlsx', { includeHeader: false });
        //                                 }
        //                             },
        //                         ]
        //                     },
        //                     {
        //                         name: 'colunmNames',
        //                         label: `['name', 'artist']`,
        //                         subMenu: [
        //                             {
        //                                 name: 'csvExport',
        //                                 label: 'CSV export',
        //                                 action: () => {
        //                                     grid.export('csv', { columnNames: ['name', 'artist'] });
        //                                 }
        //                             },
        //                             {
        //                                 name: 'excelExport',
        //                                 label: 'Excel export',
        //                                 action: () => {
        //                                     grid.export('xlsx', { columnNames: ['name', 'artist'] });
        //                                 }
        //                             },
        //                         ]
        //                     },
        //                     {
        //                         name: 'onlySelected',
        //                         label: 'onlySelected: true',
        //                         subMenu: [
        //                             {
        //                                 name: 'csvExport',
        //                                 label: 'CSV export',
        //                                 action: () => {
        //                                     grid.export('csv', { onlySelected: true });
        //                                 }
        //                             },
        //                             {
        //                                 name: 'excelExport',
        //                                 label: 'Excel export',
        //                                 action: () => {
        //                                     grid.export('xlsx', { onlySelected: true });
        //                                 }
        //                             },
        //                         ]
        //                     },
        //                 ],
        //             }
        //         ],
        //     ]
        // ),
    });
    //그리드 클릭 시 이벤트
    grid.on('click',function(ev){
        console.log(ev); // 그리드에서 제공하는 클릭 이벤트의 매개변수 값을 보기 위함
        const row = grid.getRow(ev.rowKey); //gird에서 제공하는 함수 로우키를 넣으면 해당하는 행의 값들을 보여줌
        console.log(row);
        document.getElementById('newId').value = row.newId;
        document.getElementById('newName').value = row.newName;
        document.getElementById('newIdnum').value = row.newIdnum;
        document.getElementById('newPhone').value = row.newPhone;
        document.getElementById('newAddr').value = row.newAddr;
        document.getElementById('newEmail').value = row.newEmail;
        document.getElementById('newDept').value = row.newDept;

        myModal.show(myModal);

    })
    //신규입사자 리스트 정보 불러오기
    fetch('/new-emp-lists')
        .then(function(res){
            return res.json();
        })
        .then(function(newEmpData){
            //신규직원그리드명.resetData(newEmpList)
            //newEmpList = newEmpData  2번 변수에다가 신규직원정보 넣어줌
            console.log(newEmpData)
        })

</script>


<!-- Google Tag Manager (noscript) -->

<noscript
><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-NXZMQSS"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
></iframe
></noscript>
<!-- End Google Tag Manager (noscript) -->
</html>